<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GGR472 Lab 4</title>
    <!-- Mapbox API -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css' rel='stylesheet' />
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Turf.js - Make sure this is included! -->
    <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>
</head>

<body>
    <!-- HEADER SECTION -->
    <div class="header">
        <h1>Toronto Pedestrian & Cyclist Collision Map</h1>
        <p class="subtitle">Methodology: This map visualizes collision density using 0.5km hexagons. Collision data from 2006-2021 is aggregated by hex cell, with color indicating collision frequency. Hovering over a hex shows the predominant neighborhood (most common among collision points) and total collision count.</p>
    </div>
    
    <!-- MAP CONTAINER -->
    <div id='map' class='map'></div>

    <!-- Legend for collision density -->
    <div id="legend" class="legend">
        <h4>Collision Density</h4>
        <div><span style="background:#fef0d9"></span> 0 - 5</div>
        <div><span style="background:#fdcc8a"></span> 5 - 10</div>
        <div><span style="background:#fc8d59"></span> 10 - 20</div>
        <div><span style="background:#e34a33"></span> 20 - 50</div>
        <div><span style="background:#b30000"></span> 50+</div>
        <!-- Explains what missing hexagons represent -->
        <p class="legend-note">
            Areas with no hexagons indicate no crashes in the zone.
        </p>
    </div>

    <!-- Load the script just once, at the end of body -->
    <script src="script.js"></script>
</body>
</html>